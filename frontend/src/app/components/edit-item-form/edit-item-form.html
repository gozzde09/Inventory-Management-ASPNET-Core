<form
  class="d-flex flex-column flex-sm-row justify-content-evenly gap-4"
  (ngSubmit)="onSave()"
  #editForm="ngForm"
>
  <div class="form-group mb-0">
    <label class="form-label small mb-1">Artikelnamn</label>
    <input
      type="text"
      [(ngModel)]="editItem.name"
      name="name"
      class="form-control form-control-sm"
      placeholder="Artikelnamn"
      required
    />
    @if (!editItem.name) {
    <div class="text-danger small">Namn är obligatoriskt.</div>
    }
  </div>

  <div class="form-group mb-0">
    <label class="form-label small mb-1">Enhet</label>
    <input
      type="text"
      [(ngModel)]="editItem.unit"
      name="unit"
      class="form-control form-control-sm"
      placeholder="t.ex. st, flaska"
      required
      pattern="^[^\d]+$"
    />
    @if (!editItem.unit) {
    <div class="text-danger small">Enhet är obligatoriskt.</div>
    } @else if (editItem.unit && !editItem.unit.match('^[^\\d]+$')) {
    <div class="text-danger small">Enhet får inte innehålla siffror.</div>
    }
  </div>

  <div class="form-group mb-0">
    <label class="form-label small mb-1">Minsta lagernivå</label>
    <input
      type="text"
      [(ngModel)]="editItem.criticalStockThreshold"
      name="criticalStockThreshold"
      class="form-control form-control-sm"
      placeholder="Varningsgräns"
      required
    />
    @if (!editItem.criticalStockThreshold) {
    <div class="text-danger small">Minsta lagernivå är obligatoriskt.</div>
    }
  </div>

  <div class="d-flex gap-1 flex-wrap justify-content-center">
    <button class="btn btn-success btn-sm" type="submit" [disabled]="!editForm.form.valid">
      Uppdatera
    </button>
    <button class="btn btn-secondary btn-sm" type="button" (click)="onCancel()">Avbryt</button>
  </div>
</form>
